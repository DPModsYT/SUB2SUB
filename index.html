<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sub2Unlock Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      background: #f9f9f9;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input, button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      font-size: 1em;
    }
    a {
      word-break: break-all;
    }
  </style>
</head>
<body>
  <h2>Generate Your Sub2Unlock Link</h2>

  <input type="url" id="target" placeholder="🔒 Link to protect (required)">
  <input type="url" id="channel" placeholder="▶️ YouTube Channel URL (required)">
  <input type="url" id="video" placeholder="👍 YouTube Video URL (optional)">
  <button onclick="generateLink()">Generate Unlock Link</button>

  <p id="result"></p>

  <script>
    function generateLink() {
      const target = document.getElementById("target").value.trim();
      const channel = document.getElementById("channel").value.trim();
      const video = document.getElementById("video").value.trim();

      if (!target || !channel) {
        alert("Target link and YouTube channel are required!");
        return;
      }

      const encodedTarget = encodeURIComponent(target);
      const encodedChannel = encodeURIComponent(channel);
      const encodedVideo = video ? "&video=" + encodeURIComponent(video) : "";

      const unlockUrl = `${location.origin}${location.pathname.replace('index.html', '')}unlock.html?target=${encodedTarget}&channel=${encodedChannel}${encodedVideo}`;

      document.getElementById("result").innerHTML = `
        <strong>✅ Your Unlock Link:</strong><br>
        <a href="${unlockUrl}" target="_blank">${unlockUrl}</a>
      `;
    }
  </script>
</body>
</html>
